<aside class="sidebar-gin360" *ngIf="isSidebarOpen">
  <!-- Header: Logo y título -->
  <div class="sidebar-header">
    <img src="assets/gin360-logo.png" alt="Gin 360 Logo" class="sidebar-logo" />
  </div>
  <hr class="sidebar-divider" />

  <!-- Menú principal -->
  <nav class="sidebar-menu" *ngIf="selectedModule">
  <ng-container *ngIf="selectedModule === 'Presupuesto'; else singleModule">
    <div *ngFor="let item of menuItems" class="sidebar-menu-item">
      <div *ngIf="item.children && item.children.length > 0; else simpleItem">
        <div class="sidebar-menu-label clickable" (click)="toggleSubmenu(item.label)">
          <span>{{ item.label }}</span>
          <span class="chevron" [ngClass]="{'expanded': isExpanded(item.label)}">&#x25BC;</span>
        </div>
        <div *ngIf="isExpanded(item.label)" class="sidebar-submenu">
          <a *ngFor="let child of item.children" [routerLink]="child.route" class="sidebar-submenu-item">
            {{ child.label }}
          </a>
        </div>
      </div>
      <ng-template #simpleItem>
        <div class="sidebar-menu-label">{{ item.label }}</div>
      </ng-template>
    </div>
  </ng-container>
  <ng-template #singleModule>
    <ng-container *ngFor="let item of menuItems">
      <div class="sidebar-menu-item" *ngIf="item.label === selectedModule">
        <div *ngIf="item.children && item.children.length > 0; else simpleItem2">
          <div class="sidebar-menu-label clickable" (click)="toggleSubmenu(item.label)">
            <span>{{ item.label }}</span>
            <span class="chevron" [ngClass]="{'expanded': isExpanded(item.label)}">&#x25BC;</span>
          </div>
          <div *ngIf="isExpanded(item.label)" class="sidebar-submenu">
            <a *ngFor="let child of item.children" [routerLink]="child.route" class="sidebar-submenu-item">
              {{ child.label }}
            </a>
          </div>
        </div>
        <ng-template #simpleItem2>
          <div class="sidebar-menu-label">{{ item.label }}</div>
        </ng-template>
      </div>
    </ng-container>
  </ng-template>
</nav>
</aside>